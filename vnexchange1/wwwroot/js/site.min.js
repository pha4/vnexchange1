function GetRequestTypeText(n){if(n=="doi")return"đổi"}var Item=function(n,t,i,r){this.ItemID=n;this.ItemType=t;this.ItemOwner=i;this.ItemEmail=r},ItemRequest=function(n,t,i){this.ItemID=n;this.ItemOwner=t;this.ItemEmail=i},GlobalConstant={};GlobalConstant.HideItemActionURL="";GlobalConstant.CloseItemActionURL="";GlobalConstant.ShowItemActionURL="";GlobalConstant.ApproveItemActionURL="";GlobalConstant.CreateRequestItemActionURL="";ItemRequest.prototype={onclick:function(){$("#myModalUserInformation").modal("show");$("#myModalUser").text(this.ItemOwner);$("#linkEmail").text(this.ItemEmail).attr("href","mailto:"+this.ItemEmail);$("#btnDong").attr("onclick","$('#myModalUserInformation').modal('hide');")}};Item.prototype={initRequest:function(n){switch(n){case"mua":case"doi":case"xin":var t=GetRequestTypeText(n);$("#myModalMua").modal("show");$("#myModalMuaUser").text(this.ItemOwner);$("#btnGuiTinNhan").attr("onclick","Item["+this.ItemID+"].request('"+n+"');");$("#lblRequestType").text(t);break;default:return!1}},request:function(n){return $.ajax({url:GlobalConstant.CreateRequestItemActionURL,type:"POST",data:{itemID:this.ItemID,requestType:n,message:$("#txtMessage").val()},datatype:"json",ContentType:"application/json;utf-8"}).done(function(n){n===!0&&$("#myModalMua").modal("hide")}).error(function(n){alert("Error "+n.status)}),!1},hide:function(){return $.ajax({url:GlobalConstant.HideItemActionURL,type:"POST",data:{itemID:this.ItemID},datatype:"json",ContentType:"application/json;utf-8"}).done(function(n){n===!0&&(window.location.href=window.location.href)}).error(function(n){alert("Error "+n.status)}),!1},show:function(){return $.ajax({url:GlobalConstant.ShowItemActionURL,type:"POST",data:{itemID:this.ItemID},datatype:"json",ContentType:"application/json;utf-8"}).done(function(n){n===!0&&(window.location.href=window.location.href)}).error(function(n){alert("Error "+n.status)}),!1},edit:function(){},close:function(){return $.ajax({url:GlobalConstant.CloseItemActionURL,type:"POST",data:{itemID:this.ItemID},datatype:"json",ContentType:"application/json;utf-8"}).done(function(n){n===!0&&(window.location.href=window.location.href)}).error(function(n){alert("Error "+n.status)}),!1},approve:function(){return $.ajax({url:GlobalConstant.ApproveItemActionURL,type:"POST",data:{itemID:this.ItemID},datatype:"json",ContentType:"application/json;utf-8"}).done(function(n){n===!0&&(window.location.href=window.location.href)}).error(function(n){alert("Error "+n.status)}),!1}};